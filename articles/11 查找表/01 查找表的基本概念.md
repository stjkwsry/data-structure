# 查找表的基本概念

**查找表（Search Table）**是由**同一数据类型**的数据元素（或记录，表的一行就是一条记录）构成的有限集合。

表中包含**关键字（Key）**，是数据元素中的某一个数据项，它可以标识数据元素。如果**一个关键字**可以**唯一标识一个数据元素**，即关键字与数据元素存在**一对一**的关系，则称这个关键字为**主关键字（Primary Key）**。

**次关键字（Secondary Key）**也是一个关键字，但是它可以标识多个数据元素，即关键字与数据元素之间存在**一对多**的关系。

例如有书籍查找表，其中**以书号作为 PK**，**以书名作为 SK**：

| 书号   | 书名           | 出版社         |
| ------ | -------------- | -------------- |
| 600001 | 数据结构       | 清华大学出版社 |
| 600002 | C 语言程序设计 | 高等教育出版社 |
| 600003 | 数据结构       | 人民邮电出版社 |
| 600004 | 离散数学       | 清华大学出版社 |

**查找操作**是指**在查找表中，根据给定的某个值 key，确定关键字与 key 相同的数据元素的过程**。查找的结果有两种：

1. **查找成功** - 如果查找表中存在关键字与 key 相同的数据元素，则查找成功，并返回这个 key 在查找表中的位置。
2. **查找失败** - 表中不存在关键字与 key 相同的数据元素，返回 0 或 NULL。

查找表的存储结构和查找过程既可以在**顺序存储结构**上实现，也可以在**树形结构**中实现。例如：

- **顺序存储结构** - 上文的书籍查找表就是一个顺序存储结构的线性表。
- **树形结构** - Windows 的文件系统就是以树形结构组织和存储文件的。文件夹是树的中间结点，文件是叶子结点，彼此相连形成了一个属性的查找表，提供了以文件名、文件类型、大小等作为关键字查找文件的功能。

查找操作依赖于**查找表数据元素的组织方式**，查找的方法就是由此决定的。根据查找表的不同存储结构以及数据条件，可以采用不同的查找算法，以求快速高效地得到查找结果。例如：

- **顺序查找算法** - 适用于数据量**较小**的线性表。
- **分块查找算法** - 适用于数据量**较大**的线性表。
- **折半查找算法** - 适用于数据元素**有序**的线性表。

对查找表进行的操作除了查询某个特定数据元素是否在查找表中和查找表中某个特定数据元素的属性之外，还可以在查找表中插入一个数据元素以及从查找表中删除一个数据元素。根据查找操作的不同，可以将查找表分为：

1. **静态查找表（Static Search Table）** - 不需要插入和删除操作的查找表。例如字典。
   - 顺序查找。
   - 二分查找。
   - 分块查找。
   - ……

2. **动态查找表（Dynamic Search Table）** - 需要插入和删除操作的查找表。例如上文的数据查找表。
   - 二叉排序树。
   - 平衡二叉树。
   - ……


查找**算法效率**最主要的衡量标准是**平均查找长度（Average Search Length）**。ASL 指的是查找数据元素的过程中，为找到记录在查找表中的位置，所进行的关键字比较次数的**期望值**。ASL 的数学定义为：

$$
ASL=\sum_{i=1}^{n}P_iC_i
$$

其中，**$$P_i$$** 是**要查找的第 $$i$$ 个数据元素的出现概率**，**$$C_i$$** 是**查找相应数据元素前已经进行过的关键字比较次数**。

显然：

$$
\sum_{i=1}^{n}P_i=1
$$

通常设每个数据元素出现的概率相等，即设 **$$P_i=1/n$$**，$$C_i$$ 随查找过程不同而不同。